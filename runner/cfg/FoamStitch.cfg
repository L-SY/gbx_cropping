#!/usr/bin/env python
PACKAGE = "runner"

from dynamic_reconfigure.parameter_generator_catkin import *

gen = ParameterGenerator()

# 输入图像缩放因子，用于加速预处理
gen.add("scale", double_t, 0,
        "Downscale factor for processing (0<scale<=1)",
        0.5, 0.1, 1.0)

# 高斯模糊核大小（奇数）
gen.add("blur_size", int_t, 0,
        "Gaussian blur kernel size (odd)",
        5, 1, 31)

# 最小轮廓面积阈值（像素²）
gen.add("area_thresh", double_t, 0,
        "Minimum contour area to accept",
        300.0, 0.0, 10000.0)

# 长宽比容忍度
gen.add("ar_tol", double_t, 0,
        "Aspect ratio tolerance from square",
        0.3, 0.0, 2.0)

# 位移过滤：最小/最大水平位移（像素）
gen.add("min_shift", int_t, 0,
        "Minimum horizontal shift to accept",
        1, 0, 1000)
gen.add("max_shift", int_t, 0,
        "Maximum horizontal shift to accept",
        200, 0, 2000)

# 全景图最大宽度（像素）
gen.add("max_width", int_t, 0,
        "Maximum panorama width",
        2000, 0, 10000)

# 是否在每次检测到尺寸变化时自动重置全景
gen.add("auto_reset", bool_t, 0,
        "Auto reset panorama when size mismatches",
        False)

# 手动触发一次全景和历史帧重置
gen.add("reset_now", bool_t, 0,
        "Reset panorama & history immediately",
        False)

exit(gen.generate(PACKAGE, "runner", "FoamStitch"))
